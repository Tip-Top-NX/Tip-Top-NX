{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as ActionTypes from \"./ActionTypes\";\nimport axios from \"../axios\";\nexport var signup = function signup(user) {\n  (function (dispatch) {\n    axios.post('/users/sign-up', _objectSpread({}, user)).then(function (res) {\n      if (res.data.success === true) {\n        console.log(\"action\", res.data);\n        dispatch(setUser(res.data.user, res.data.token));\n      } else {\n        dispatch(signinFailed());\n      }\n    }).catch(function (err) {\n      return dispatch(signinFailed());\n    });\n  });\n};\nexport var signin = function signin(user) {\n  (function (dispatch) {\n    axios.post('/users/sign-up', _objectSpread({}, user)).then(function (res) {\n      if (res.data.success === true) {\n        dispatch(setUser(res.data.user, res.data.token));\n      } else {\n        dispatch(signinFailed());\n      }\n    }).catch(function (err) {\n      return dispatch(signinFailed());\n    });\n  });\n};\nexport var setUser = function setUser(user, token) {\n  return {\n    type: ActionTypes.SET_USER,\n    payload: {\n      address: user.address,\n      name: user.name,\n      contact: user.contact,\n      email: user.email,\n      _id: user._id,\n      image: user.image,\n      points: user.points,\n      orders: user.orders,\n      wishlist: user.wishlist,\n      cart: user.cart,\n      token: token\n    }\n  };\n};\nexport var signinFailed = function signinFailed() {\n  return {\n    type: ActionTypes.SIGNIN_FAILED\n  };\n};","map":{"version":3,"sources":["C:/Users/lenovo/Desktop/app/Tip-Top-NX/frontend/redux/ActionCreators.js"],"names":["ActionTypes","axios","signup","user","dispatch","post","then","res","data","success","console","log","setUser","token","signinFailed","catch","err","signin","type","SET_USER","payload","address","name","contact","email","_id","image","points","orders","wishlist","cart","SIGNIN_FAILED"],"mappings":";;;;;;AAAA,OAAO,KAAKA,WAAZ;AACA,OAAOC,KAAP;AAEA,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,IAAD,EAAU;AAC5B,aAACC,QAAD,EAAc;AACVH,IAAAA,KAAK,CAACI,IAAN,CAAW,gBAAX,oBAAgCF,IAAhC,GACKG,IADL,CACU,UAACC,GAAD,EAAS;AACX,UAAGA,GAAG,CAACC,IAAJ,CAASC,OAAT,KAAmB,IAAtB,EAA2B;AACvBC,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBJ,GAAG,CAACC,IAAzB;AACAJ,QAAAA,QAAQ,CAACQ,OAAO,CAACL,GAAG,CAACC,IAAJ,CAASL,IAAV,EAAeI,GAAG,CAACC,IAAJ,CAASK,KAAxB,CAAR,CAAR;AACH,OAHD,MAII;AACAT,QAAAA,QAAQ,CAACU,YAAY,EAAb,CAAR;AACH;AACJ,KATL,EAUKC,KAVL,CAUW,UAACC,GAAD;AAAA,aAASZ,QAAQ,CAACU,YAAY,EAAb,CAAjB;AAAA,KAVX;AAWH,GAZD;AAaH,CAdM;AAgBP,OAAO,IAAMG,MAAM,GAAG,SAATA,MAAS,CAACd,IAAD,EAAU;AAC5B,aAACC,QAAD,EAAc;AACVH,IAAAA,KAAK,CAACI,IAAN,CAAW,gBAAX,oBAAgCF,IAAhC,GACKG,IADL,CACU,UAACC,GAAD,EAAS;AACX,UAAGA,GAAG,CAACC,IAAJ,CAASC,OAAT,KAAmB,IAAtB,EAA2B;AACvBL,QAAAA,QAAQ,CAACQ,OAAO,CAACL,GAAG,CAACC,IAAJ,CAASL,IAAV,EAAeI,GAAG,CAACC,IAAJ,CAASK,KAAxB,CAAR,CAAR;AACH,OAFD,MAGI;AACAT,QAAAA,QAAQ,CAACU,YAAY,EAAb,CAAR;AACH;AACJ,KARL,EASKC,KATL,CASW,UAACC,GAAD;AAAA,aAASZ,QAAQ,CAACU,YAAY,EAAb,CAAjB;AAAA,KATX;AAUH,GAXD;AAYH,CAbM;AAeP,OAAO,IAAMF,OAAO,GAAG,SAAVA,OAAU,CAACT,IAAD,EAAMU,KAAN,EAAgB;AACnC,SAAO;AACHK,IAAAA,IAAI,EAAElB,WAAW,CAACmB,QADf;AAEHC,IAAAA,OAAO,EAAE;AACLC,MAAAA,OAAO,EAAElB,IAAI,CAACkB,OADT;AAELC,MAAAA,IAAI,EAAEnB,IAAI,CAACmB,IAFN;AAGLC,MAAAA,OAAO,EAAEpB,IAAI,CAACoB,OAHT;AAILC,MAAAA,KAAK,EAAErB,IAAI,CAACqB,KAJP;AAKLC,MAAAA,GAAG,EAAEtB,IAAI,CAACsB,GALL;AAMLC,MAAAA,KAAK,EAAEvB,IAAI,CAACuB,KANP;AAOLC,MAAAA,MAAM,EAAExB,IAAI,CAACwB,MAPR;AAQLC,MAAAA,MAAM,EAAEzB,IAAI,CAACyB,MARR;AASLC,MAAAA,QAAQ,EAAE1B,IAAI,CAAC0B,QATV;AAULC,MAAAA,IAAI,EAAE3B,IAAI,CAAC2B,IAVN;AAWLjB,MAAAA,KAAK,EAAEA;AAXF;AAFN,GAAP;AAgBH,CAjBM;AAmBP,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAC9B,SAAO;AACHI,IAAAA,IAAI,EAAElB,WAAW,CAAC+B;AADf,GAAP;AAGH,CAJM","sourcesContent":["import * as ActionTypes from './ActionTypes';\r\nimport axios from '../axios';\r\n\r\nexport const signup = (user) => {\r\n    (dispatch) => {\r\n        axios.post('/users/sign-up',{...user})\r\n            .then((res) => {\r\n                if(res.data.success===true){\r\n                    console.log(\"action\",res.data);\r\n                    dispatch(setUser(res.data.user,res.data.token));\r\n                }\r\n                else{\r\n                    dispatch(signinFailed());\r\n                }\r\n            })\r\n            .catch((err) => dispatch(signinFailed()));\r\n    }\r\n}\r\n\r\nexport const signin = (user) => {\r\n    (dispatch) => {\r\n        axios.post('/users/sign-up',{...user})\r\n            .then((res) => {\r\n                if(res.data.success===true){\r\n                    dispatch(setUser(res.data.user,res.data.token));\r\n                }\r\n                else{\r\n                    dispatch(signinFailed());\r\n                }\r\n            })\r\n            .catch((err) => dispatch(signinFailed()));\r\n    }\r\n}\r\n\r\nexport const setUser = (user,token) => {\r\n    return {\r\n        type: ActionTypes.SET_USER,\r\n        payload: {\r\n            address: user.address,\r\n            name: user.name,\r\n            contact: user.contact,\r\n            email: user.email,\r\n            _id: user._id,\r\n            image: user.image,\r\n            points: user.points,\r\n            orders: user.orders,\r\n            wishlist: user.wishlist,\r\n            cart: user.cart,\r\n            token: token\r\n        }\r\n    }\r\n}\r\n\r\nexport const signinFailed = () => {\r\n    return {\r\n        type: ActionTypes.SIGNIN_FAILED\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}