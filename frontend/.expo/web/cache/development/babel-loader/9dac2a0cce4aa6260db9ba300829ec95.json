{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as ActionTypes from \"./ActionTypes\";\nimport { myAxios, getConfig } from \"../axios\";\nexport var placeOrder = function placeOrder(method) {\n  var bodyPart = {\n    method: method\n  };\n  return function (dispatch) {\n    getConfig().then(function (config) {\n      myAxios.post(\"/profile/cart/placeOrder\", bodyPart, config).then(function (res) {\n        return dispatch(setOrder(res.data));\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    });\n  };\n};\nexport var setOrder = function setOrder(orders) {\n  return {\n    type: ActionTypes.PLACE_ORDER,\n    payload: {\n      orders: orders,\n      cart: [],\n      cartTotal: 0\n    }\n  };\n};\nexport var postCart = function postCart(prodId, color, size, quantity) {\n  var bodyPart = {\n    color: color,\n    size: size,\n    quantity: quantity\n  };\n  return function (dispatch) {\n    getConfig().then(function (config) {\n      myAxios.post(\"/product/\" + prodId + \"/cart\", bodyPart, config).then(function (res) {\n        return dispatch(setCart(res.data.cart, res.data.cartTotal));\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    });\n  };\n};\nexport var delCart = function delCart(prodId, color, size) {\n  var bodyPart = {\n    color: color,\n    size: size\n  };\n  return function (dispatch) {\n    getConfig().then(function (config) {\n      config.data = bodyPart;\n      myAxios.delete(\"/product/\" + prodId + \"/cart\", config).then(function (res) {\n        return dispatch(setCart(res.data.cart, res.data.cartTotal));\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    });\n  };\n};\nexport var setCart = function setCart(cart, cartTotal) {\n  return {\n    type: ActionTypes.SET_CART,\n    payload: cart,\n    cartTotal: cartTotal\n  };\n};\nexport var postWishlist = function postWishlist(prodId) {\n  return function (dispatch) {\n    getConfig().then(function (config) {\n      myAxios.post(\"/product/\" + prodId + \"/wishlist\", null, config).then(function (res) {\n        return dispatch(setWishlist(res.data.wishlist));\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    });\n  };\n};\nexport var delWishlist = function delWishlist(prodId) {\n  return function (dispatch) {\n    getConfig().then(function (config) {\n      myAxios.delete(\"/product/\" + prodId + \"/wishlist\", config).then(function (res) {\n        return dispatch(setWishlist(res.data.wishlist));\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    });\n  };\n};\nexport var setWishlist = function setWishlist(wishlist) {\n  return {\n    type: ActionTypes.SET_WISHLIST,\n    payload: wishlist\n  };\n};\nexport var putProfile = function putProfile(details) {\n  return function (dispatch) {\n    getConfig().then(function (config) {\n      myAxios.put(\"/profile/\", details, config).then(function (user) {\n        dispatch(setProfile(details));\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    });\n  };\n};\nexport var setProfile = function setProfile(details) {\n  return {\n    type: ActionTypes.SET_PROFILE,\n    payload: details\n  };\n};\nexport var postImage = function postImage(data) {\n  return function (dispatch) {\n    getConfig().then(function (config) {\n      myAxios.post(\"/profile/uploadPhoto\", data, {\n        headers: _objectSpread(_objectSpread({}, config.headers), {}, {\n          \"content-type\": \"multipart/form-data\"\n        })\n      }).then(function (res) {\n        dispatch(setPicture(res.data.image));\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    });\n  };\n};\nexport var setPicture = function setPicture(uri) {\n  return {\n    type: ActionTypes.SET_PICTURE,\n    payload: uri\n  };\n};\nexport var signup = function signup(user) {\n  return function (dispatch) {\n    myAxios.post(\"/users/sign-up\", _objectSpread({}, user)).then(function (res) {\n      if (res.data.success === true) {\n        dispatch(setUser(res.data.user, res.data.token));\n      } else {\n        dispatch(signinFailed());\n      }\n    }).catch(function (err) {\n      return dispatch(signinFailed());\n    });\n  };\n};\nexport var signin = function signin(user) {\n  return function (dispatch) {\n    dispatch(isFetching(true));\n    setTimeout(function () {\n      myAxios.post(\"/users/login\", _objectSpread({}, user)).then(function (res) {\n        if (res.data.success === true) {\n          dispatch(setUser(res.data.user, res.data.token));\n          dispatch(isFetching(false));\n        } else {\n          dispatch(signinFailed());\n        }\n      }).catch(function (err) {\n        return dispatch(signinFailed());\n      });\n    }, 5000);\n  };\n};\nexport var setUser = function setUser(user, token) {\n  return {\n    type: ActionTypes.SET_USER,\n    payload: {\n      address: user.address,\n      name: user.name,\n      contact: user.contact,\n      email: user.email,\n      _id: user._id,\n      image: user.image,\n      points: user.points,\n      orders: user.orders,\n      wishlist: user.wishlist,\n      cart: user.cart,\n      token: token,\n      gender: user.gender,\n      age: user.age,\n      cartTotal: user.cartTotal\n    }\n  };\n};\nexport var isFetching = function isFetching(b) {\n  return {\n    type: ActionTypes.FETCHING_USER,\n    payload: b\n  };\n};\nexport var signinFailed = function signinFailed() {\n  return {\n    type: ActionTypes.SIGNIN_FAILED\n  };\n};\nexport var postAddress = function postAddress(address, type) {\n  return function (dispatch) {\n    var newAddress = {\n      address: address,\n      type: type\n    };\n    return fetch(baseUrl + \"addresses\", {\n      method: \"POST\",\n      body: JSON.stringify(newComment),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"same-origin\"\n    }).then(function (response) {\n      if (response.ok) {\n        return response;\n      } else {\n        var error = new Error(\"Error \" + response.status + \": \" + response.statusText);\n        error.response = response;\n        throw error;\n      }\n    }, function (error) {\n      throw error;\n    }).then(function (response) {\n      return response.json();\n    }).then(function (response) {\n      return setTimeout(function () {\n        dispatch(addAddress(response));\n      }, 2000);\n    }).catch(function (error) {\n      console.log(\"post addresses\", error.message);\n      alert(\"Your address could not be posted\\nError: \" + error.message);\n    });\n  };\n};\nexport var addAddress = function addAddress(address) {\n  return {\n    type: ActionTypes.ADD_ADDRESS,\n    payload: address\n  };\n};","map":{"version":3,"sources":["C:/Users/mbmih/OneDrive/Desktop/Work/App Final/Tip-Top-NX/frontend/redux/ActionCreators.js"],"names":["ActionTypes","myAxios","getConfig","placeOrder","method","bodyPart","dispatch","then","config","post","res","setOrder","data","catch","err","console","log","orders","type","PLACE_ORDER","payload","cart","cartTotal","postCart","prodId","color","size","quantity","setCart","delCart","delete","SET_CART","postWishlist","setWishlist","wishlist","delWishlist","SET_WISHLIST","putProfile","details","put","user","setProfile","SET_PROFILE","postImage","headers","setPicture","image","uri","SET_PICTURE","signup","success","setUser","token","signinFailed","signin","isFetching","setTimeout","SET_USER","address","name","contact","email","_id","points","gender","age","b","FETCHING_USER","SIGNIN_FAILED","postAddress","newAddress","fetch","baseUrl","body","JSON","stringify","newComment","credentials","response","ok","error","Error","status","statusText","json","addAddress","message","alert","ADD_ADDRESS"],"mappings":"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","sourcesContent":["/* eslint-disable */\r\nimport * as ActionTypes from \"./ActionTypes\";\r\nimport { myAxios, getConfig } from \"../axios\";\r\n\r\nexport const placeOrder = (method) => {\r\n  const bodyPart = {\r\n    method:method\r\n  };\r\n  return (dispatch) => {\r\n    getConfig().then((config) => {\r\n      myAxios\r\n        .post(\"/profile/cart/placeOrder\", bodyPart, config)\r\n        .then((res) => dispatch(setOrder(res.data)))\r\n        .catch((err) => console.log(err));\r\n    });\r\n  }\r\n}\r\n\r\nexport const setOrder = (orders) => {\r\n  return {\r\n    type: ActionTypes.PLACE_ORDER,\r\n    payload:{\r\n      orders:orders,\r\n      cart: [],\r\n      cartTotal: 0\r\n    }\r\n  };\r\n};\r\n\r\nexport const postCart = (prodId, color, size, quantity) => {\r\n  const bodyPart = {\r\n    color: color,\r\n    size: size,\r\n    quantity: quantity,\r\n  };\r\n  return (dispatch) => {\r\n    getConfig().then((config) => {\r\n      myAxios\r\n        .post(\"/product/\" + prodId + \"/cart\", bodyPart, config)\r\n        .then((res) => dispatch(setCart(res.data.cart,res.data.cartTotal)))\r\n        .catch((err) => console.log(err));\r\n    });\r\n  };\r\n};\r\n\r\nexport const delCart = (prodId, color, size) => {\r\n  const bodyPart = {\r\n    color: color,\r\n    size: size\r\n  };\r\n  return (dispatch) => {\r\n    getConfig().then((config) => {\r\n      config.data = bodyPart\r\n      myAxios\r\n        .delete(\"/product/\" + prodId + \"/cart\",config)\r\n        .then((res) => dispatch(setCart(res.data.cart,res.data.cartTotal)))\r\n        .catch((err) => console.log(err));\r\n    });\r\n  };\r\n};\r\n\r\nexport const setCart = (cart,cartTotal) => {\r\n  return {\r\n    type: ActionTypes.SET_CART,\r\n    payload: cart,\r\n    cartTotal:cartTotal\r\n  };\r\n};\r\n\r\nexport const postWishlist = (prodId) => {\r\n  return (dispatch) => {\r\n    getConfig().then((config) => {\r\n      myAxios\r\n        .post(\"/product/\" + prodId + \"/wishlist\", null, config)\r\n        .then((res) => dispatch(setWishlist(res.data.wishlist)))\r\n        .catch((err) => console.log(err));\r\n    });\r\n  };\r\n};\r\n\r\nexport const delWishlist = (prodId) => {\r\n  return (dispatch) => {\r\n    getConfig().then((config) => {\r\n      myAxios\r\n        .delete(\"/product/\" + prodId + \"/wishlist\", config)\r\n        .then((res) => dispatch(setWishlist(res.data.wishlist)))\r\n        .catch((err) => console.log(err));\r\n    });\r\n  };\r\n};\r\n\r\nexport const setWishlist = (wishlist) => {\r\n  return {\r\n    type: ActionTypes.SET_WISHLIST,\r\n    payload: wishlist,\r\n  };\r\n};\r\n\r\nexport const putProfile = (details) => {\r\n  return (dispatch) => {\r\n    getConfig().then((config) => {\r\n      myAxios\r\n        .put(\"/profile/\", details, config)\r\n        .then((user) => {\r\n          dispatch(setProfile(details));\r\n        })\r\n        .catch((err) => console.log(err));\r\n    });\r\n  };\r\n};\r\n\r\nexport const setProfile = (details) => {\r\n  return {\r\n    type: ActionTypes.SET_PROFILE,\r\n    payload: details,\r\n  };\r\n};\r\n\r\nexport const postImage = (data) => {\r\n  return (dispatch) => {\r\n    getConfig().then((config) => {\r\n      myAxios\r\n        .post(\"/profile/uploadPhoto\", data, {\r\n          headers: {\r\n            ...config.headers,\r\n            \"content-type\": \"multipart/form-data\",\r\n          },\r\n        })\r\n        .then((res) => {\r\n          dispatch(setPicture(res.data.image));\r\n        })\r\n        .catch((err) => console.log(err));\r\n    });\r\n  };\r\n};\r\n\r\nexport const setPicture = (uri) => {\r\n  return {\r\n    type: ActionTypes.SET_PICTURE,\r\n    payload: uri,\r\n  };\r\n};\r\n\r\nexport const signup = (user) => {\r\n  return (dispatch) => {\r\n    myAxios\r\n      .post(\"/users/sign-up\", { ...user })\r\n      .then((res) => {\r\n        if (res.data.success === true) {\r\n          dispatch(setUser(res.data.user, res.data.token));\r\n        } else {\r\n          dispatch(signinFailed());\r\n        }\r\n      })\r\n      .catch((err) => dispatch(signinFailed()));\r\n  };\r\n};\r\n\r\nexport const signin = (user) => {\r\n  return (dispatch) => {\r\n    dispatch(isFetching(true));\r\n    setTimeout(() => {\r\n      myAxios\r\n        .post(\"/users/login\", { ...user })\r\n        .then((res) => {\r\n          if (res.data.success === true) {\r\n            dispatch(setUser(res.data.user, res.data.token));\r\n            dispatch(isFetching(false));\r\n          } else {\r\n            dispatch(signinFailed());\r\n          }\r\n        })\r\n        .catch((err) => dispatch(signinFailed()));\r\n    }, 5000);\r\n  };\r\n};\r\n\r\nexport const setUser = (user, token) => {\r\n  return {\r\n    type: ActionTypes.SET_USER,\r\n    payload: {\r\n      address: user.address,\r\n      name: user.name,\r\n      contact: user.contact,\r\n      email: user.email,\r\n      _id: user._id,\r\n      image: user.image,\r\n      points: user.points,\r\n      orders: user.orders,\r\n      wishlist: user.wishlist,\r\n      cart: user.cart,\r\n      token: token,\r\n      gender: user.gender,\r\n      age: user.age,\r\n      cartTotal:user.cartTotal\r\n    },\r\n  };\r\n};\r\n\r\nexport const isFetching = (b) => {\r\n  return {\r\n    type: ActionTypes.FETCHING_USER,\r\n    payload: b,\r\n  };\r\n};\r\n\r\nexport const signinFailed = () => {\r\n  return {\r\n    type: ActionTypes.SIGNIN_FAILED,\r\n  };\r\n};\r\n\r\n//ADDRESS ACTION CREATORS STARTS\r\nexport const postAddress = (address, type) => (dispatch) => {\r\n  const newAddress = {\r\n    address: address,\r\n    type: type,\r\n  };\r\n\r\n  return fetch(baseUrl + \"addresses\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify(newComment),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    credentials: \"same-origin\",\r\n  })\r\n    .then(\r\n      (response) => {\r\n        if (response.ok) {\r\n          return response;\r\n        } else {\r\n          var error = new Error(\r\n            \"Error \" + response.status + \": \" + response.statusText\r\n          );\r\n          error.response = response;\r\n          throw error;\r\n        }\r\n      },\r\n      (error) => {\r\n        throw error;\r\n      }\r\n    )\r\n    .then((response) => response.json())\r\n    .then((response) =>\r\n      setTimeout(() => {\r\n        dispatch(addAddress(response));\r\n      }, 2000)\r\n    )\r\n    .catch((error) => {\r\n      console.log(\"post addresses\", error.message);\r\n      alert(\"Your address could not be posted\\nError: \" + error.message);\r\n    });\r\n};\r\n\r\nexport const addAddress = (address) => ({\r\n  type: ActionTypes.ADD_ADDRESS,\r\n  payload: address,\r\n});\r\n//ADDRESS PART ENDS\r\n"]},"metadata":{},"sourceType":"module"}